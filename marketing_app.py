# Frontend: Streamlit App for Investment Profit Prediction

# Import necessary libraries
import pickle
import streamlit as st
import numpy as np

# Load the trained model and scaler
model = pickle.load(open('Digital_Marketing_Model.pkl', 'rb'))
scaler = pickle.load(open('Digital_Marketing_Scaler.pkl', 'rb'))

# Title for the app
st.title("Investment Strategy App")

# Description
st.write("Predict Your ROI (Return on Investment) from Digital Marketing, Promotions, and Research Investments")

# Input fields for digital marketing, promotion, and research investments
digital_marketing = st.number_input("Digital Marketing", max_value=1000000, min_value=0, step=100)
promotion = st.number_input("Promotion", max_value=200000, min_value=0, step=100)
research = st.number_input("Research", max_value=1000000, min_value=0, step=100)

# When the "Profit Margin" button is clicked
if st.button("Profit Margin"):
    # Convert inputs to floats and form an array for prediction
    input_data = np.array([[float(digital_marketing), float(promotion), float(research)]])

    # Scale the input using the saved scaler
    user_input_scaled = scaler.transform(input_data)

    # Make the prediction
    prediction = model.predict(user_input_scaled)

    # Display the result
    st.success(f"The predicted Profit Margin is: ${prediction[0]:.2f}")
    
    # Additional messages
    st.write("This is an estimated figure, generated by the model, and may not reflect exact values.")
    st.write("Thank you for making our app your choice!")
